{"version":3,"sources":["0","lib/gyronorm.js","src.js"],"names":["module","exports","a","b","isNaN","c","Promise","d","e","setTimeout","data","o","n","screen","orientation","angle","j","l","callbacks","call","f","motion","FULLTILT","g","Math","PI","h","i","k","active","p","q","r","s","t","DeviceOrientation","start","then","_alphaAvailable","alpha","_betaAvailable","beta","_gammaAvailable","gamma","stop","DeviceMotion","_accelerationXAvailable","acceleration","x","_accelerationYAvailable","y","_accelerationZAvailable","z","_accelerationIncludingGravityXAvailable","accelerationIncludingGravity","_accelerationIncludingGravityYAvailable","_accelerationIncludingGravityZAvailable","_rotationRateAlphaAvailable","rotationRate","_rotationRateBetaAvailable","_rotationRateGammaAvailable","set","w","copy","setFromEuler","m","cos","sin","normalize","setFromRotationMatrix","elements","sqrt","multiply","Quaternion","prototype","multiplyQuaternions","rotateX","rotateByAxisAngle","rotateY","rotateZ","constructor","RotationMatrix","Float32Array","identity","setFromQuaternion","multiplyMatrices","Euler","atan2","asin","options","alphaOffsetScreen","alphaOffsetDevice","type","removeEventListener","bind","addEventListener","absolute","webkitCompassAccuracy","webkitCompassHeading","Object","toString","push","listen","getFixedFrameQuaternion","getScreenAdjustedQuaternion","getFixedFrameMatrix","getScreenAdjustedMatrix","getFixedFrameEuler","getScreenAdjustedEuler","isAbsolute","getLastRawEventData","isAvailable","ALPHA","BETA","GAMMA","getScreenAdjustedAcceleration","getScreenAdjustedAccelerationIncludingGravity","getScreenAdjustedRotationRate","ACCELERATION_X","ACCELERATION_Y","ACCELERATION_Z","ACCELERATION_INCLUDING_GRAVITY_X","ACCELERATION_INCLUDING_GRAVITY_Y","ACCELERATION_INCLUDING_GRAVITY_Z","ROTATION_RATE_ALPHA","ROTATION_RATE_BETA","ROTATION_RATE_GAMMA","window","GyroNorm","round","pow","v","abs","dm","gx","gy","gz","u","message","code","GAME","WORLD","DEVICE_ORIENTATION","ACCELERATION","ACCELERATION_INCLUDING_GRAVITY","ROTATION_RATE","init","frequency","gravityNormalized","orientationBase","decimalCount","parseInt","logger","screenAdjusted","getDeviceOrientation","getDeviceMotion","all","end","setInterval","clearInterval","normalizeGravity","setHeadDirection","startLogging","stopLogging","deviceOrientationAvailable","accelerationAvailable","accelerationIncludingGravityAvailable","rotationRateAvailable","isRunning","define","amd","gn","Block","container","img","depthImg","vt","ht","canvas","document","createElement","appendChild","gl","getContext","ratio","devicePixelRatio","windowWidth","innerWidth","windowHeight","innerHeight","mouseX","mouseY","mouseTargetX","mouseTargetY","imageOriginal","imageDepth","vth","hth","imageURLs","textures","startTime","Date","getTime","createScene","addTexture","mouseMove","gyro","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","attachShader","program","a1","a2","width","offsetWidth","height","offsetHeight","style","imageAspect","uResolution","uRatio","uThreshold","viewport","resizeHandler","createProgram","addShader","vertex","VERTEX_SHADER","fragment","FRAGMENT_SHADER","linkProgram","useProgram","Uniform","uMouse","uTime","billboard","Rect","positionLocation","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","loadImages","images","that","naturalHeight","naturalWidth","length","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","u_image0Location","getUniformLocation","u_image1Location","uniform1i","activeTexture","TEXTURE0","TEXTURE1","resize","render","maxTilt","do","clamp","catch","console","log","halfX","halfY","clientX","clientY","now","currentTime","requestAnimationFrame","loadImage","url","callback","image","Image","src","onload","urls","imagesToLoad","onImageLoad","ii","name","suffix","location","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","verts","STATIC_DRAW","number","lower","upper","undefined","values","method","args","concat","apply","drawArrays","TRIANGLE_STRIP"],"mappings":"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","file":"src.map","sourceRoot":"../js","sourcesContent":[null,"\n/* eslint-disable */\n/*! Full Tilt v0.5.3 / http://github.com/richtr/Full-Tilt */\n!function(a){function b(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1}function c(a){var b=new Promise(function(b,c){var d=function(e){setTimeout(function(){a&&a.data?b():e>=20?c():d(++e)},50)};d(0)});return b}function d(){o=n?(a.screen.orientation.angle||0)*j:(a.orientation||0)*j}function e(a){l.orientation.data=a;for(var b in l.orientation.callbacks)l.orientation.callbacks[b].call(this)}function f(a){l.motion.data=a;for(var b in l.motion.callbacks)l.motion.callbacks[b].call(this)}if(void 0===a.FULLTILT||null===a.FULLTILT){var g=Math.PI,h=g/2,i=2*g,j=g/180,k=180/g,l={orientation:{active:!1,callbacks:[],data:void 0},motion:{active:!1,callbacks:[],data:void 0}},m=!1,n=a.screen&&a.screen.orientation&&void 0!==a.screen.orientation.angle&&null!==a.screen.orientation.angle?!0:!1,o=(n?a.screen.orientation.angle:a.orientation||0)*j,p=h,q=g,r=i/3,s=-h,t={};t.version=\"0.5.3\",t.getDeviceOrientation=function(a){var b=new Promise(function(b,d){var e=new t.DeviceOrientation(a);e.start();var f=new c(l.orientation);f.then(function(){e._alphaAvailable=l.orientation.data.alpha&&null!==l.orientation.data.alpha,e._betaAvailable=l.orientation.data.beta&&null!==l.orientation.data.beta,e._gammaAvailable=l.orientation.data.gamma&&null!==l.orientation.data.gamma,b(e)})[\"catch\"](function(){e.stop(),d(\"DeviceOrientation is not supported\")})});return b},t.getDeviceMotion=function(a){var b=new Promise(function(b,d){var e=new t.DeviceMotion(a);e.start();var f=new c(l.motion);f.then(function(){e._accelerationXAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.x,e._accelerationYAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.y,e._accelerationZAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.z,e._accelerationIncludingGravityXAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.x,e._accelerationIncludingGravityYAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.y,e._accelerationIncludingGravityZAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.z,e._rotationRateAlphaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.alpha,e._rotationRateBetaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.beta,e._rotationRateGammaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.gamma,b(e)})[\"catch\"](function(){e.stop(),d(\"DeviceMotion is not supported\")})});return b},t.Quaternion=function(a,c,d,e){var f;this.set=function(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.w=d||1},this.copy=function(a){this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w},this.setFromEuler=function(){var a,b,c,d,e,f,g,h,i,k,l,m;return function(n){return n=n||{},c=(n.alpha||0)*j,a=(n.beta||0)*j,b=(n.gamma||0)*j,f=c/2,d=a/2,e=b/2,g=Math.cos(d),h=Math.cos(e),i=Math.cos(f),k=Math.sin(d),l=Math.sin(e),m=Math.sin(f),this.set(k*h*i-g*l*m,g*l*i+k*h*m,g*h*m+k*l*i,g*h*i-k*l*m),this.normalize(),this}}(),this.setFromRotationMatrix=function(){var a;return function(c){return a=c.elements,this.set(.5*Math.sqrt(1+a[0]-a[4]-a[8])*b(a[7]-a[5]),.5*Math.sqrt(1-a[0]+a[4]-a[8])*b(a[2]-a[6]),.5*Math.sqrt(1-a[0]-a[4]+a[8])*b(a[3]-a[1]),.5*Math.sqrt(1+a[0]+a[4]+a[8])),this}}(),this.multiply=function(a){return f=t.Quaternion.prototype.multiplyQuaternions(this,a),this.copy(f),this},this.rotateX=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(f),this},this.rotateY=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(f),this},this.rotateZ=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[0,0,1],a),this.copy(f),this},this.normalize=function(){return t.Quaternion.prototype.normalize(this)},this.set(a,c,d,e)},t.Quaternion.prototype={constructor:t.Quaternion,multiplyQuaternions:function(){var a=new t.Quaternion;return function(b,c){var d=b.x,e=b.y,f=b.z,g=b.w,h=c.x,i=c.y,j=c.z,k=c.w;return a.set(d*k+g*h+e*j-f*i,e*k+g*i+f*h-d*j,f*k+g*j+d*i-e*h,g*k-d*h-e*i-f*j),a}}(),normalize:function(a){var b=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z+a.w*a.w);return 0===b?(a.x=0,a.y=0,a.z=0,a.w=1):(b=1/b,a.x*=b,a.y*=b,a.z*=b,a.w*=b),a},rotateByAxisAngle:function(){var a,b,c=new t.Quaternion,d=new t.Quaternion;return function(e,f,g){return a=(g||0)/2,b=Math.sin(a),d.set((f[0]||0)*b,(f[1]||0)*b,(f[2]||0)*b,Math.cos(a)),c=t.Quaternion.prototype.multiplyQuaternions(e,d),t.Quaternion.prototype.normalize(c)}}()},t.RotationMatrix=function(a,b,c,d,e,f,g,h,i){var k;this.elements=new Float32Array(9),this.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},this.set=function(a,b,c,d,e,f,g,h,i){this.elements[0]=a||1,this.elements[1]=b||0,this.elements[2]=c||0,this.elements[3]=d||0,this.elements[4]=e||1,this.elements[5]=f||0,this.elements[6]=g||0,this.elements[7]=h||0,this.elements[8]=i||1},this.copy=function(a){this.elements[0]=a.elements[0],this.elements[1]=a.elements[1],this.elements[2]=a.elements[2],this.elements[3]=a.elements[3],this.elements[4]=a.elements[4],this.elements[5]=a.elements[5],this.elements[6]=a.elements[6],this.elements[7]=a.elements[7],this.elements[8]=a.elements[8]},this.setFromEuler=function(){var a,b,c,d,e,f,g,h,i;return function(k){return k=k||{},c=(k.alpha||0)*j,a=(k.beta||0)*j,b=(k.gamma||0)*j,d=Math.cos(a),e=Math.cos(b),f=Math.cos(c),g=Math.sin(a),h=Math.sin(b),i=Math.sin(c),this.set(f*e-i*g*h,-d*i,e*i*g+f*h,e*i+f*g*h,f*d,i*h-f*e*g,-d*h,g,d*e),this.normalize(),this}}(),this.setFromQuaternion=function(){var a,b,c,d;return function(e){return a=e.w*e.w,b=e.x*e.x,c=e.y*e.y,d=e.z*e.z,this.set(a+b-c-d,2*(e.x*e.y-e.w*e.z),2*(e.x*e.z+e.w*e.y),2*(e.x*e.y+e.w*e.z),a-b+c-d,2*(e.y*e.z-e.w*e.x),2*(e.x*e.z-e.w*e.y),2*(e.y*e.z+e.w*e.x),a-b-c+d),this}}(),this.multiply=function(a){return k=t.RotationMatrix.prototype.multiplyMatrices(this,a),this.copy(k),this},this.rotateX=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(k),this},this.rotateY=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(k),this},this.rotateZ=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[0,0,1],a),this.copy(k),this},this.normalize=function(){return t.RotationMatrix.prototype.normalize(this)},this.set(a,b,c,d,e,f,g,h,i)},t.RotationMatrix.prototype={constructor:t.RotationMatrix,multiplyMatrices:function(){var a,b,c=new t.RotationMatrix;return function(d,e){return a=d.elements,b=e.elements,c.set(a[0]*b[0]+a[1]*b[3]+a[2]*b[6],a[0]*b[1]+a[1]*b[4]+a[2]*b[7],a[0]*b[2]+a[1]*b[5]+a[2]*b[8],a[3]*b[0]+a[4]*b[3]+a[5]*b[6],a[3]*b[1]+a[4]*b[4]+a[5]*b[7],a[3]*b[2]+a[4]*b[5]+a[5]*b[8],a[6]*b[0]+a[7]*b[3]+a[8]*b[6],a[6]*b[1]+a[7]*b[4]+a[8]*b[7],a[6]*b[2]+a[7]*b[5]+a[8]*b[8]),c}}(),normalize:function(a){var b=a.elements,c=b[0]*b[4]*b[8]-b[0]*b[5]*b[7]-b[1]*b[3]*b[8]+b[1]*b[5]*b[6]+b[2]*b[3]*b[7]-b[2]*b[4]*b[6];return b[0]/=c,b[1]/=c,b[2]/=c,b[3]/=c,b[4]/=c,b[5]/=c,b[6]/=c,b[7]/=c,b[8]/=c,a.elements=b,a},rotateByAxisAngle:function(){var a,b,c=new t.RotationMatrix,d=new t.RotationMatrix,e=!1;return function(f,g,h){return d.identity(),e=!1,a=Math.sin(h),b=Math.cos(h),1===g[0]&&0===g[1]&&0===g[2]?(e=!0,d.elements[4]=b,d.elements[5]=-a,d.elements[7]=a,d.elements[8]=b):1===g[1]&&0===g[0]&&0===g[2]?(e=!0,d.elements[0]=b,d.elements[2]=a,d.elements[6]=-a,d.elements[8]=b):1===g[2]&&0===g[0]&&0===g[1]&&(e=!0,d.elements[0]=b,d.elements[1]=-a,d.elements[3]=a,d.elements[4]=b),e?(c=t.RotationMatrix.prototype.multiplyMatrices(f,d),c=t.RotationMatrix.prototype.normalize(c)):c=f,c}}()},t.Euler=function(a,b,c){this.set=function(a,b,c){this.alpha=a||0,this.beta=b||0,this.gamma=c||0},this.copy=function(a){this.alpha=a.alpha,this.beta=a.beta,this.gamma=a.gamma},this.setFromRotationMatrix=function(){var a,b,c,d;return function(e){a=e.elements,a[8]>0?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),d=Math.atan2(-a[6],a[8])):a[8]<0?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=c>=0?-g:g,d=Math.atan2(a[6],-a[8])):a[6]>0?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),d=-h):a[6]<0?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=c>=0?-g:g,d=-h):(b=Math.atan2(a[3],a[0]),c=a[7]>0?h:-h,d=0),0>b&&(b+=i),b*=k,c*=k,d*=k,this.set(b,c,d)}}(),this.setFromQuaternion=function(){var a,b,c;return function(d){var e=d.w*d.w,f=d.x*d.x,j=d.y*d.y,l=d.z*d.z,m=e+f+j+l,n=d.w*d.x+d.y*d.z,o=1e-6;if(n>(.5-o)*m)a=2*Math.atan2(d.y,d.w),b=h,c=0;else if((-.5+o)*m>n)a=-2*Math.atan2(d.y,d.w),b=-h,c=0;else{var p=e-f+j-l,q=2*(d.w*d.z-d.x*d.y),r=e-f-j+l,s=2*(d.w*d.y-d.x*d.z);r>0?(a=Math.atan2(q,p),b=Math.asin(2*n/m),c=Math.atan2(s,r)):(a=Math.atan2(-q,-p),b=-Math.asin(2*n/m),b+=0>b?g:-g,c=Math.atan2(-s,-r))}0>a&&(a+=i),a*=k,b*=k,c*=k,this.set(a,b,c)}}(),this.rotateX=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[1,0,0],a),this},this.rotateY=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[0,1,0],a),this},this.rotateZ=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[0,0,1],a),this},this.set(a,b,c)},t.Euler.prototype={constructor:t.Euler,rotateByAxisAngle:function(){var a=new t.RotationMatrix;return function(b,c,d){return a.setFromEuler(b),a=t.RotationMatrix.prototype.rotateByAxisAngle(a,c,d),b.setFromRotationMatrix(a),b}}()},t.DeviceOrientation=function(b){this.options=b||{};var c=0,d=200,e=0,f=10;if(this.alphaOffsetScreen=0,this.alphaOffsetDevice=void 0,\"game\"===this.options.type){var g=function(b){return null!==b.alpha&&(this.alphaOffsetDevice=new t.Euler(b.alpha,0,0),this.alphaOffsetDevice.rotateZ(-o),++e>=f)?void a.removeEventListener(\"deviceorientation\",g,!1):void(++c>=d&&a.removeEventListener(\"deviceorientation\",g,!1))}.bind(this);a.addEventListener(\"deviceorientation\",g,!1)}else if(\"world\"===this.options.type){var h=function(b){return b.absolute!==!0&&void 0!==b.webkitCompassAccuracy&&null!==b.webkitCompassAccuracy&&+b.webkitCompassAccuracy>=0&&+b.webkitCompassAccuracy<50&&(this.alphaOffsetDevice=new t.Euler(b.webkitCompassHeading,0,0),this.alphaOffsetDevice.rotateZ(o),this.alphaOffsetScreen=o,++e>=f)?void a.removeEventListener(\"deviceorientation\",h,!1):void(++c>=d&&a.removeEventListener(\"deviceorientation\",h,!1))}.bind(this);a.addEventListener(\"deviceorientation\",h,!1)}},t.DeviceOrientation.prototype={constructor:t.DeviceOrientation,start:function(b){b&&\"[object Function]\"==Object.prototype.toString.call(b)&&l.orientation.callbacks.push(b),m||(n?a.screen.orientation.addEventListener(\"change\",d,!1):a.addEventListener(\"orientationchange\",d,!1)),l.orientation.active||(a.addEventListener(\"deviceorientation\",e,!1),l.orientation.active=!0)},stop:function(){l.orientation.active&&(a.removeEventListener(\"deviceorientation\",e,!1),l.orientation.active=!1)},listen:function(a){this.start(a)},getFixedFrameQuaternion:function(){var a=new t.Euler,b=new t.RotationMatrix,c=new t.Quaternion;return function(){var d=l.orientation.data||{alpha:0,beta:0,gamma:0},e=d.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),a.alpha<0&&(a.alpha+=360),a.alpha%=360,e-=a.alpha),a.set(e,d.beta,d.gamma),c.setFromEuler(a),c}}(),getScreenAdjustedQuaternion:function(){var a;return function(){return a=this.getFixedFrameQuaternion(),a.rotateZ(-o),a}}(),getFixedFrameMatrix:function(){var a=new t.Euler,b=new t.RotationMatrix;return function(){var c=l.orientation.data||{alpha:0,beta:0,gamma:0},d=c.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),a.alpha<0&&(a.alpha+=360),a.alpha%=360,d-=a.alpha),a.set(d,c.beta,c.gamma),b.setFromEuler(a),b}}(),getScreenAdjustedMatrix:function(){var a;return function(){return a=this.getFixedFrameMatrix(),a.rotateZ(-o),a}}(),getFixedFrameEuler:function(){var a,b=new t.Euler;return function(){return a=this.getFixedFrameMatrix(),b.setFromRotationMatrix(a),b}}(),getScreenAdjustedEuler:function(){var a,b=new t.Euler;return function(){return a=this.getScreenAdjustedMatrix(),b.setFromRotationMatrix(a),b}}(),isAbsolute:function(){return l.orientation.data&&l.orientation.data.absolute===!0?!0:!1},getLastRawEventData:function(){return l.orientation.data||{}},_alphaAvailable:!1,_betaAvailable:!1,_gammaAvailable:!1,isAvailable:function(a){switch(a){case this.ALPHA:return this._alphaAvailable;case this.BETA:return this._betaAvailable;case this.GAMMA:return this._gammaAvailable}},ALPHA:\"alpha\",BETA:\"beta\",GAMMA:\"gamma\"},t.DeviceMotion=function(a){this.options=a||{}},t.DeviceMotion.prototype={constructor:t.DeviceMotion,start:function(b){b&&\"[object Function]\"==Object.prototype.toString.call(b)&&l.motion.callbacks.push(b),m||(n?a.screen.orientation.addEventListener(\"change\",d,!1):a.addEventListener(\"orientationchange\",d,!1)),l.motion.active||(a.addEventListener(\"devicemotion\",f,!1),l.motion.active=!0)},stop:function(){l.motion.active&&(a.removeEventListener(\"devicemotion\",f,!1),l.motion.active=!1)},listen:function(a){this.start(a)},getScreenAdjustedAcceleration:function(){var a=l.motion.data&&l.motion.data.acceleration?l.motion.data.acceleration:{x:0,y:0,z:0},b={};switch(o){case p:b.x=-a.y,b.y=a.x;break;case q:b.x=-a.x,b.y=-a.y;break;case r:case s:b.x=a.y,b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedAccelerationIncludingGravity:function(){var a=l.motion.data&&l.motion.data.accelerationIncludingGravity?l.motion.data.accelerationIncludingGravity:{x:0,y:0,z:0},b={};switch(o){case p:b.x=-a.y,b.y=a.x;break;case q:b.x=-a.x,b.y=-a.y;break;case r:case s:b.x=a.y,b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedRotationRate:function(){var a=l.motion.data&&l.motion.data.rotationRate?l.motion.data.rotationRate:{alpha:0,beta:0,gamma:0},b={};switch(o){case p:b.beta=-a.gamma,b.gamma=a.beta;break;case q:b.beta=-a.beta,b.gamma=-a.gamma;break;case r:case s:b.beta=a.gamma,b.gamma=-a.beta;break;default:b.beta=a.beta,b.gamma=a.gamma}return b.alpha=a.alpha,b},getLastRawEventData:function(){return l.motion.data||{}},_accelerationXAvailable:!1,_accelerationYAvailable:!1,_accelerationZAvailable:!1,_accelerationIncludingGravityXAvailable:!1,_accelerationIncludingGravityYAvailable:!1,_accelerationIncludingGravityZAvailable:!1,_rotationRateAlphaAvailable:!1,_rotationRateBetaAvailable:!1,_rotationRateGammaAvailable:!1,isAvailable:function(a){switch(a){case this.ACCELERATION_X:return this._accelerationXAvailable;case this.ACCELERATION_Y:return this._accelerationYAvailable;case this.ACCELERATION_Z:return this._accelerationZAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_X:return this._accelerationIncludingGravityXAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Y:return this._accelerationIncludingGravityYAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Z:return this._accelerationIncludingGravityZAvailable;case this.ROTATION_RATE_ALPHA:return this._rotationRateAlphaAvailable;case this.ROTATION_RATE_BETA:return this._rotationRateBetaAvailable;case this.ROTATION_RATE_GAMMA:return this._rotationRateGammaAvailable}},ACCELERATION_X:\"accelerationX\",ACCELERATION_Y:\"accelerationY\",ACCELERATION_Z:\"accelerationZ\",ACCELERATION_INCLUDING_GRAVITY_X:\"accelerationIncludingGravityX\",ACCELERATION_INCLUDING_GRAVITY_Y:\"accelerationIncludingGravityY\",ACCELERATION_INCLUDING_GRAVITY_Z:\"accelerationIncludingGravityZ\",ROTATION_RATE_ALPHA:\"rotationRateAlpha\",ROTATION_RATE_BETA:\"rotationRateBeta\",ROTATION_RATE_GAMMA:\"rotationRateGamma\"},a.FULLTILT=t}}(window);\n\n/* gyronorm.js v2.0.6 - https://github.com/dorukeker/gyronorm.git*/\n!function(a,b){var c={GyroNorm:b()};\"function\"==typeof define&&define.amd?define(function(){return c}):\"object\"==typeof module&&module.exports?module.exports=c:a.GyroNorm=c.GyroNorm}(this,function(){function a(a){return Math.round(a*Math.pow(10,t))/Math.pow(10,t)}function b(){var b={};b=v?o.getScreenAdjustedEuler():o.getFixedFrameEuler();var c=p.getScreenAdjustedAcceleration(),e=p.getScreenAdjustedAccelerationIncludingGravity(),f=p.getScreenAdjustedRotationRate(),g=0;s===d?(g=b.alpha-k,g=0>g?360-Math.abs(g):g):g=b.alpha;var h={\"do\":{alpha:a(g),beta:a(b.beta),gamma:a(b.gamma),absolute:o.isAbsolute()},dm:{x:a(c.x),y:a(c.y),z:a(c.z),gx:a(e.x),gy:a(e.y),gz:a(e.z),alpha:a(f.alpha),beta:a(f.beta),gamma:a(f.gamma)}};return r&&(h.dm.gx*=l,h.dm.gy*=l,h.dm.gz*=l),h}function c(a){u&&(\"string\"==typeof a&&(a={message:a,code:0}),u(a))}var d=\"game\",e=\"world\",f=\"deviceorientation\",g=\"acceleration\",h=\"accelerationinludinggravity\",i=\"rotationrate\",j=null,k=0,l=0,m=!1,n=!1,o=null,p=null,q=50,r=!0,s=d,t=2,u=null,v=!1,w=function(a){};return w.GAME=d,w.WORLD=e,w.DEVICE_ORIENTATION=f,w.ACCELERATION=g,w.ACCELERATION_INCLUDING_GRAVITY=h,w.ROTATION_RATE=i,w.prototype.init=function(a){a&&a.frequency&&(q=a.frequency),a&&a.gravityNormalized&&(r=a.gravityNormalized),a&&a.orientationBase&&(s=a.orientationBase),a&&\"number\"==typeof a.decimalCount&&a.decimalCount>=0&&(t=parseInt(a.decimalCount)),a&&a.logger&&(u=a.logger),a&&a.screenAdjusted&&(v=a.screenAdjusted);var b=new FULLTILT.getDeviceOrientation({type:s}).then(function(a){o=a}),c=(new FULLTILT.getDeviceMotion).then(function(a){p=a,l=p.getScreenAdjustedAccelerationIncludingGravity().z>0?-1:1});return Promise.all([b,c]).then(function(){n=!0})},w.prototype.end=function(){try{n=!1,this.stop(),p.stop(),o.stop()}catch(a){c(a)}},w.prototype.start=function(a){return n?(j=setInterval(function(){a(b())},q),void(m=!0)):void c({message:'GyroNorm is not initialized yet. First call the \"init()\" function.',code:1})},w.prototype.stop=function(){j&&(clearInterval(j),m=!1)},w.prototype.normalizeGravity=function(a){r=a?!0:!1},w.prototype.setHeadDirection=function(){return v||s===e?!1:(k=o.getFixedFrameEuler().alpha,!0)},w.prototype.startLogging=function(a){a&&(u=a)},w.prototype.stopLogging=function(){u=null},w.prototype.isAvailable=function(a){var b=o.getScreenAdjustedEuler(),c=p.getScreenAdjustedAcceleration(),d=p.getScreenAdjustedAccelerationIncludingGravity(),e=p.getScreenAdjustedRotationRate();switch(a){case f:return b.alpha&&null!==b.alpha&&b.beta&&null!==b.beta&&b.gamma&&null!==b.gamma;case g:return c&&c.x&&c.y&&c.z;case h:return d&&d.x&&d.y&&d.z;case i:return e&&e.alpha&&e.beta&&e.gamma;default:return{deviceOrientationAvailable:b.alpha&&null!==b.alpha&&b.beta&&null!==b.beta&&b.gamma&&null!==b.gamma,accelerationAvailable:c&&c.x&&c.y&&c.z,accelerationIncludingGravityAvailable:d&&d.x&&d.y&&d.z,rotationRateAvailable:e&&e.alpha&&e.beta&&e.gamma}}},w.prototype.isRunning=function(){return m},w});","import fragment from './shaders/fragment.glsl';\nimport vertex from './shaders/vertex.glsl';\n\nimport GyroNorm from './lib/gyronorm';\nconst gn = new GyroNorm.GyroNorm();\n\nexport class Block {\n  constructor({container, img, depthImg, vt, ht}) {\n    this.container = container;\n    this.canvas = document.createElement('canvas');\n    this.container.appendChild(this.canvas);\n    this.gl = this.canvas.getContext('webgl');\n    this.ratio = window.devicePixelRatio;\n    this.windowWidth = window.innerWidth;\n    this.windowHeight = window.innerHeight;\n    this.mouseX = 0;\n    this.mouseY = 0;\n\n    this.mouseTargetX = 0;\n    this.mouseTargetY = 0;\n\n    this.imageOriginal = img;\n    this.imageDepth = depthImg;\n    this.vth = vt || 15;\n    this.hth = ht || 25;\n\n    this.imageURLs = [\n      this.imageOriginal,\n      this.imageDepth\n    ];\n    this.textures = [];\n\n\n    this.startTime = new Date().getTime(); // Get start time for animating\n\n    this.createScene();\n    this.addTexture();\n    this.mouseMove();\n    this.gyro();\n  }\n\n  addShader( source, type ) {\n\t  let shader = this.gl.createShader( type );\n\t  this.gl.shaderSource( shader, source );\n\t  this.gl.compileShader( shader );\n\t  let isCompiled = this.gl.getShaderParameter( shader, this.gl.COMPILE_STATUS );\n\t  if ( !isCompiled ) {\n\t    throw new Error( 'Shader compile error: ' + this.gl.getShaderInfoLog( shader ) );\n\t  }\n\t  this.gl.attachShader( this.program, shader );\n  }\n\n  resizeHandler() {\n  \tthis.windowWidth = window.innerWidth;\n  \tthis.windowHeight = window.innerHeight;\n    this.width = this.container.offsetWidth;\n    this.height = this.container.offsetHeight;\n\n    this.canvas.width = this.width*this.ratio;\n    this.canvas.height = this.height*this.ratio;\n    this.canvas.style.width = this.width + 'px';\n    this.canvas.style.height = this.height + 'px';\n    let a1,a2;\n    if(this.height/this.width<this.imageAspect) {\n      a1 = 1;\n      a2 = (this.height/this.width) / this.imageAspect;\n    } else{\n      a1 = (this.width/this.height) * this.imageAspect ;\n      a2 = 1;\n    }\n    this.uResolution.set( this.width, this.height, a1, a2 );\n    this.uRatio.set( 1/this.ratio );\n    this.uThreshold.set( this.hth, this.vth );\n    this.gl.viewport( 0, 0, this.width*this.ratio, this.height*this.ratio );\n  }\n\n  resize() {\n  \tthis.resizeHandler();\n    window.addEventListener( 'resize', this.resizeHandler.bind(this) );\n  }\n\n  createScene() {\n\n    this.program = this.gl.createProgram();\n\n    this.addShader( vertex, this.gl.VERTEX_SHADER );\n    this.addShader( fragment, this.gl.FRAGMENT_SHADER );\n\n    this.gl.linkProgram( this.program );\n    this.gl.useProgram( this.program );\n\n\n    this.uResolution = new Uniform( 'resolution', '4f' , this.program, this.gl );\n    this.uMouse = new Uniform( 'mouse', '2f' , this.program, this.gl );\n    this.uTime = new Uniform( 'time', '1f' , this.program, this.gl );\n    this.uRatio = new Uniform( 'pixelRatio', '1f' , this.program, this.gl );\n    this.uThreshold = new Uniform( 'threshold', '2f' , this.program, this.gl );\n    // create position attrib\n    this.billboard = new Rect( this.gl );\n    this.positionLocation = this.gl.getAttribLocation( this.program, 'a_position' );\n    this.gl.enableVertexAttribArray( this.positionLocation );\n    this.gl.vertexAttribPointer( this.positionLocation, 2, this.gl.FLOAT, false, 0, 0 );\n  }\n\n  addTexture() {\n  \tlet that = this;\n    let gl = that.gl;\n    loadImages(this.imageURLs, that.start.bind(this));\n  }\n\n  start(images) {\n    let that = this;\n    let gl = that.gl;\n\n\n    this.imageAspect = images[0].naturalHeight/images[0].naturalWidth;\n    for (var i = 0; i < images.length; i++) {\n      \n\n      let texture = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n\n      // Set the parameters so we can render any size image.\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n      // Upload the image into the texture.\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, images[i]);\n      this.textures.push(texture);\n    }\n\n    // lookup the sampler locations.\n    let u_image0Location = this.gl.getUniformLocation(this.program, 'image0');\n    let u_image1Location = this.gl.getUniformLocation(this.program, 'image1');\n\n    // set which texture units to render with.\n    this.gl.uniform1i(u_image0Location, 0); // texture unit 0\n    this.gl.uniform1i(u_image1Location, 1); // texture unit 1\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.textures[0]);\n    this.gl.activeTexture(this.gl.TEXTURE1);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.textures[1]);\n\n\n    // start application\n    this.resize();\n    this.render();\n  }\n\n\n  gyro() {\n\n    let that = this;\n\n    this.maxTilt = 15;\n    \n\n    const rotationCoef = 0.15;\n\n    gn.init({ gravityNormalized: true }).then(function() {\n      gn.start(function(data) {\n\n        let y = data.do.gamma;\n        let x = data.do.beta;\n\n        that.mouseTargetY = clamp(x,-that.maxTilt, that.maxTilt)/that.maxTilt;\n        that.mouseTargetX = -clamp(y,-that.maxTilt, that.maxTilt)/that.maxTilt;\n\n      });\n    }).catch(function(e) {\n      console.log('not supported');\n\n    });\n\n  }\n\n  mouseMove() {\n  \tlet that = this;\n  \tdocument.addEventListener('mousemove', function(e) {\n      let halfX = that.windowWidth/2;\n      let halfY = that.windowHeight/2;\n\n  \t\tthat.mouseTargetX = (halfX - e.clientX)/halfX;\n  \t\tthat.mouseTargetY = (halfY - e.clientY)/halfY;\n\n      \n  \t});\n  }\n\n\n  render() {\n    let now = new Date().getTime();\n    let currentTime = ( now - this.startTime ) / 1000;\n    this.uTime.set( currentTime );\n    // inertia\n    this.mouseX += (this.mouseTargetX - this.mouseX)*0.05;\n    this.mouseY += (this.mouseTargetY - this.mouseY)*0.05;\n\n\n    this.uMouse.set( this.mouseX, this.mouseY );\n\n    // render\n    this.billboard.render( this.gl );\n    requestAnimationFrame( this.render.bind(this) );\n  }\n}\n\nfunction loadImage(url, callback) {\n  var image = new Image();\n  image.src = url;\n  image.onload = callback;\n  return image;\n}\nfunction loadImages(urls, callback) {\n  var images = [];\n  var imagesToLoad = urls.length;\n \n  // Called each time an image finished loading.\n  var onImageLoad = function() {\n    --imagesToLoad;\n    // If all the images are loaded call the callback.\n    if (imagesToLoad === 0) {\n      callback(images);\n    }\n  };\n \n  for (var ii = 0; ii < imagesToLoad; ++ii) {\n    var image = loadImage(urls[ii], onImageLoad);\n    images.push(image);\n  }\n}\nfunction Uniform( name, suffix, program,gl ) {\n  this.name = name;\n  this.suffix = suffix;\n  this.gl = gl;\n  this.program = program;\n  this.location = gl.getUniformLocation( program, name );\n}\n\nUniform.prototype.set = function( ...values ) {\n  let method = 'uniform' + this.suffix;\n  let args = [ this.location ].concat( values );\n  this.gl[ method ].apply( this.gl, args );\n};\n\nfunction Rect( gl ) {\n  var buffer = gl.createBuffer();\n  gl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n  gl.bufferData( gl.ARRAY_BUFFER, Rect.verts, gl.STATIC_DRAW );\n}\n\nRect.verts = new Float32Array([\n  -1, -1,\n  1, -1,\n  -1, 1,\n  1, 1,\n]);\n\nRect.prototype.render = function( gl ) {\n  gl.drawArrays( gl.TRIANGLE_STRIP, 0, 4 );\n};\nfunction clamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n"]}